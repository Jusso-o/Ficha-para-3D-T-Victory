<!DOCTYPE html>
<html lang="pt-br">
   
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <title>Ficha 3D&T Victory</title>
  </head>
   
  <body>
       
    <form id="fichaForm" onkeydown="return event.key != 'Enter';">
      <div class="header-ficha">
        <div class="bloco-imagem">
          <label for="input_imagem" class="label-upload">
            <img
              id="imagem_personagem_display"
              src="placeholder_imagem.png"
              alt="Imagem do Personagem"
              class="imagem-personagem"
            />
            <span class="texto-upload">Clique para Adicionar Imagem</span>
          </label>
          <input
            type="file"
            id="input_imagem"
            accept="image/*"
            style="display: none"
            onchange="previewImagem(event)"
          />
        </div>

        <div class="bloco-info-basica">
          <h2>Informações Básicas</h2>
          <div class="info-group info-basica-grid">
            <label for="input_jogador">Jogador</label>
            <input type="text" id="input_jogador" name="jogador" />

            <label for="input_personagem">Personagem</label>
            <input type="text" id="input_personagem" name="personagem" />

            <label for="input_xp">XP</label>
            <input type="number" id="input_xp" name="xp" value="0" min="0" />
            <label for="input_pontos_base">Pontos Totais</label>
            <input type="number" id="input_pontos_base" name="pontosBase" value="10" min="0" />
            <label for="input_pontos">Pontos Restantes</label>
            <input type="number" id="input_pontos" name="pontos" value="10" readonly />
          </div>
        </div>
      </div>

      <hr />

      <div class="recursos-pvpm">
        <div class="recurso-bloco pv">
          <label for="input_pv_atual">PV ATUAL</label>
          <input
            type="number"
            id="input_pv_atual"
            name="pvAtual"
            value="0"
            min="0"
            readonly
          />

          <div class="ajuste-group">
            <input
              type="number"
              id="input_ajuste_pv"
              placeholder="+ / - Dano/Cura"
              class="input-ajuste"
            />
            <button
              type="button"
              onclick="aplicarAjustePV()"
              class="btn-aplicar"
            >
              Aplicar
            </button>
          </div>

          <div class="max-info">
            <div class="max-display-group">
              <label for="display_pv" class="label-max"
                >PV MÁXIMO (R x 5)</label
              >
              <input
                type="text"
                id="display_pv"
                readonly
                name="pvMaxDisplay"
                value="0"
                class="display-max"
              />
            </div>
            <button
              type="button"
              onclick="restaurarPVMax()"
              class="btn-restore"
            >
              Curar Max
            </button>
          </div>
        </div>

        <div class="recurso-bloco pm">
          <label for="input_pm_atual">PM ATUAL</label>
          <input
            type="number"
            id="input_pm_atual"
            name="pmAtual"
            value="0"
            min="0"
            readonly
          />

          <div class="ajuste-group">
            <input
              type="number"
              id="input_ajuste_pm"
              placeholder="+ / - Gasto/Recuperação"
              class="input-ajuste"
            />
            <button
              type="button"
              onclick="aplicarAjustePM()"
              class="btn-aplicar"
            >
              Aplicar
            </button>
          </div>

          <div class="max-info">
            <div class="max-display-group">
              <label for="display_pm" class="label-max"
                >PM MÁXIMO (H x 5)</label
              >
              <input
                type="text"
                id="display_pm"
                readonly
                name="pmMaxDisplay"
                value="0"
                class="display-max"
              />
            </div>
            <button
              type="button"
              onclick="restaurarPMMax()"
              class="btn-restore"
            >
              Restaurar Max
            </button>
          </div>
        </div>
      </div>
      </div>
    
    <hr />
    <h2>Pontos de Ação (PA)</h2>
    <div class="recursos-pa recurso-bloco pa">
        <label for="input_pa_atual">PA ATUAL</label>
        <input
            type="number"
            id="input_pa_atual"
            name="paAtual"
            value="0"
            min="0"
            readonly
            class="display-pa-atual"
        />

        <div class="ajuste-group">
            <input
                type="number"
                id="input_ajuste_pa"
                placeholder="+ / - Gasto/Recuperação"
                class="input-ajuste"
            />
            <button
                type="button"
                onclick="aplicarAjustePA()"
                class="btn-aplicar"
            >
                Aplicar
            </button>
        </div>

        <div class="max-info">
            <div class="max-display-group">
                <label for="display_pa" class="label-max"
                    >PA MÁXIMO (H)</label
                >
                <input
                    type="text"
                    id="display_pa"
                    readonly
                    name="paMaxDisplay"
                    value="0"
                    class="display-max"
                />
            </div>
            <button
                type="button"
                onclick="ganharPA()"
                class="btn-restore pa-restore"
            >
                Ganhar 1 PA
            </button>
        </div>
    </div>

      <h2>Atributos (P, H, R)</h2>
           
      <div class="info-group">
                <label for="input_poder">Poder</label>        
        <input type="number" id="input_poder" name="poder" value="0" min="0" />

                <label for="input_hab">Habilidade</label>        
        <input
          type="number"
          id="input_hab"
          name="habilidade"
          value="0"
          min="0"
        />

                <label for="input_resis">Resistencia</label>        
        <input
          type="number"
          id="input_resis"
          name="resistencia"
          value="0"
          min="0"
        />

        <div></div>
        <div></div>
             
      </div>

      <hr />

      <h2>Vantagens, Desvantagens e Raça</h2>
      <div>
               
        <label
          for="raca_arquetipo"
          style="display: block; font-weight: bold; margin-bottom: 5px"
          >Raça/Arquétipo (Custo)</label
        >
               
        <select name="racaArquetipo" id="raca_arquetipo" required>
                   
          <option value="">-- Selecione --</option>
                   
          <option value="humano">Humano (0 Pontos)</option>
                   
          <option value="anao">Anão (1 Ponto)</option>
                   
          <option value="elfo">Elfo (1 Ponto)</option>
                   
          <option value="goblin">Goblin (1 Ponto)</option>
                   
          <option value="abissal">Abissal (1 Ponto)</option>
                   
          <option value="alien">Alien (1 Ponto)</option>
                   
          <option value="anfibio">Anfíbio (1 Ponto)</option>
                   
          <option value="celestial">Celestial (1 Ponto)</option>
                   
          <option value="centauro">Centauro (2 Pontos)</option>
                   
          <option value="ciborgue">Ciborgue (2 Pontos)</option>
                   
          <option value="construto">Construto (2 Pontos)</option>
                   
          <option value="darlan">Darlan (1 Ponto)</option>
                   
          <option value="fada">Fada (1 Ponto)</option>
                   
          <option value="fantasma">Fantasma (1 Ponto)</option>
                   
          <option value="minotauro">Minotauro (2 Pontos)</option>
                   
          <option value="ogro">Ogro (2 Pontos)</option>
                   
          <option value="sauro">Sauro (1 Ponto)</option>
                   
          <option value="vampiro">Vampiro (1 Ponto)</option>
                   
          <option value="outros">
            Outro Arquétipo/Raça (0 Pontos - Padrão)
          </option>
                 
        </select>
             
      </div>

      <h3>Custos Líquidos de Pontuação</h3>
      <div class="info-group">
               
        <label for="input_custo_vantagens"
          >Total Gasto em Vantagens (+ Pontos)</label
        >
               
        <input
          type="number"
          id="input_custo_vantagens"
          name="custoVantagens"
          value="0"
          min="0"
        />

               
        <label for="input_custo_desvantagens"
          >Total Ganho por Desvantagens (- Pontos)</label
        >
               
        <input
          type="number"
          id="input_custo_desvantagens"
          name="custoDesvantagens"
          value="0"
          min="0"
        />
      </div>

      <h3>Detalhes de Vantagens e Desvantagens</h3>
      <div class="textarea-group">
        <textarea
          id="lista_vantagens"
          name="listaVantagens"
          placeholder="Lista detalhada de Vantagens"
        ></textarea>
                 
        <textarea
          id="lista_desvantagens"
          name="listaDesvantagens"
          placeholder="Lista detalhada de Desvantagens"
        ></textarea>
      </div>

      <hr />

      <h2>Técnicas e Perícias</h2>
      <h3>Custos de Técnicas</h3>
      <div class="info-group">
               
        <label for="input_tec_comum">Técnicas Comuns (1 Ponto Cada)</label>    
           
        <input
          type="number"
          id="input_tec_comum"
          name="tecComum"
          value="0"
          min="0"
        />

               
        <label for="input_tec_lendaria"
          >Técnicas Lendárias (2 Pontos Cada)</label
        >
               
        <input
          type="number"
          id="input_tec_lendaria"
          name="tecLendaria"
          value="0"
          min="0"
        />
      </div>

           
      <textarea
        id="detalhes_tecnicas"
        name="detalhesTecnicas"
        placeholder="Detalhes e Descrição das Técnicas"
      ></textarea>

      <hr />

    <h3>Seleção de Perícias (1 Ponto Cada)</h3>
    <div class="pericias-group">
        <div class="pericia-item">
            <input type="checkbox" id="animais" name="pericias" value="Animais" />
            <label for="animais">Animais (R)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="arte" name="pericias" value="Arte" />
            <label for="arte">Arte (H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="esporte" name="pericias" value="Esporte" />
            <label for="esporte">Esporte (P)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="influencia" name="pericias" value="Influencia" />
            <label for="influencia">Influência (P)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="luta" name="pericias" value="Luta" />
            <label for="luta">Luta (P/H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="manha" name="pericias" value="Manha" />
            <label for="manha">Manha (H)</label>
        </div>

        <div class="pericia-item">
            <input type="checkbox" id="maquinas" name="pericias" value="Máquinas" />
            <label for="maquinas">Máquinas (H)</label>
        </div>

        <div class="pericia-item">
            <input type="checkbox" id="medicina" name="pericias" value="Medicina" />
            <label for="medicina">Medicina (H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="mistica" name="pericias" value="Mística" />
            <label for="mistica">Mística (H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="percepcao" name="pericias" value="Percepção" />
            <label for="percepcao">Percepção (H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="saber" name="pericias" value="Saber" />
            <label for="saber">Saber (H)</label>
        </div>
        
        <div class="pericia-item">
            <input type="checkbox" id="sobrevivencia" name="pericias" value="Sobrevivência" />
            <label for="sobrevivencia">Sobrevivência  (R)</label>
        </div>
            
    </div>

    <button type="button" onclick="salvarComoPDF()" class="btn-pdf">Salvar Ficha como PDF</button>

<button type="button" onclick="confirmarResetFicha()" class="btn-reset">Resetar Ficha</button>
    </form>

    
       
    <script src="script.js"></script>
     
  </body>
</html>
